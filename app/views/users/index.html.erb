

<h1>Details of All Users</h1>
<div class="table-responsive">
  <table class="table">
    <thead>
      <tr>
        <th>Name</th>
        <th>Email</th>
        <th>Address</th>

        <% if current_user.admin?%>
          <th>Password</th>
        <% end %>

      </tr>
    </thead>

    <tbody>
      <% @users.each do |user| %>
        <tr>
          <td><%= user.name %></td>
          <td><%= user.email %></td>
          <td><%= user.address %></td>
          <td><% if current_user.admin?%>
                <%= user.password_digest %>
              <% end %>
          </td>


          <td><%= link_to 'Show', user %></td>
          <td><% if current_user.admin?%>
                  <%= link_to 'Edit', edit_user_path(user) %>
                <% end %>
          </td>
          <td><% if current_user.admin? && !current_user?(user) %>
                | <%= link_to "delete", user, method: :delete,
                                              data: { confirm: "You sure?" } %>
              <% end %>
          </td>
          <!-- <td><%= link_to 'Destroy', user, method: :delete, data: { confirm: 'Are you sure?' } %></td> -->
        </tr>
      <% end %>
    </tbody>
  </table>
</div>


<%= link_to 'Back to Profile', current_user %>
<!-- <%= link_to 'New User', new_user_path %>


<% provide(:title, 'All users') %>
<h1>All users</h1>

<%#= will_paginate %>

<ul class="users">
  <%= render @users %>
</ul>

<%#= will_paginate %> -->
